[2026-02-06 08:49:37 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 08:49:38 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 08:49:38 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 08:49:38 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 08:49:59 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5HS03USQ4:00000001","RequestPath":"/api/v1/health","ConnectionId":"0HNJ5HS03USQ4"}
[2026-02-06 08:49:59 INF] HTTP GET /api/v1/health responded 200 in 56.4395 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5HS03USQ4:00000001","ConnectionId":"0HNJ5HS03USQ4"}
[2026-02-06 09:18:10 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 09:18:11 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 09:18:11 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 09:18:11 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 09:18:17 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5IBQ9D9R3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNJ5IBQ9D9R3"}
[2026-02-06 09:18:18 INF] User login succeeded {"EventId":{"Id":1002,"Name":"LogUserLoggedIn"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"edb7f2f4-bbdd-480b-b182-b5a2a86fda5c","ActionName":"AuthService.Api.Controllers.AuthController.Login (AuthService.Api)","RequestId":"0HNJ5IBQ9D9R3:00000001","RequestPath":"/api/v1/auth/login","ConnectionId":"0HNJ5IBQ9D9R3"}
[2026-02-06 09:18:18 INF] HTTP POST /api/v1/auth/login responded 200 in 461.4653 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5IBQ9D9R3:00000001","ConnectionId":"0HNJ5IBQ9D9R3"}
[2026-02-06 10:08:45 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 10:08:45 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 10:08:45 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 10:08:46 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 10:13:40 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5JAOJMP0C:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JAOJMP0C"}
[2026-02-06 10:13:42 INF] User aecheverria registered successfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9ba7405a-79fd-43f0-8b6f-46924b9b5d93","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JAOJMP0C:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JAOJMP0C"}
[2026-02-06 10:13:42 INF] HTTP POST /api/v1/auth/register responded 201 in 1532.6072 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5JAOJMP0C:00000001","ConnectionId":"0HNJ5JAOJMP0C"}
[2026-02-06 10:13:42 ERR] Error al enviar el email {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9ba7405a-79fd-43f0-8b6f-46924b9b5d93","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JAOJMP0C:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JAOJMP0C"}
MailKit.Security.SslHandshakeException: An error occurred while attempting to establish an SSL or TLS connection.

The server's SSL certificate could not be validated for the following reasons:
• The server certificate has the following errors:
  • La función de revocación no puede comprobar la revocación para el certificado.

 ---> System.Security.Authentication.AuthenticationException: The remote certificate was rejected by the provided RemoteCertificateValidationCallback.
   at System.Net.Security.SslStream.CompleteHandshake(SslAuthenticationOptions sslAuthenticationOptions)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SslHandshakeAsync(SslStream ssl, String host, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at AuthService.Application.Services.EmailService.SendEmailAsync(String to, String subject, String body) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\EmailService.cs:line 114
[2026-02-06 10:13:42 ERR] Error al enviar el email {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9ba7405a-79fd-43f0-8b6f-46924b9b5d93","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JAOJMP0C:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JAOJMP0C"}
MailKit.Security.SslHandshakeException: An error occurred while attempting to establish an SSL or TLS connection.

The server's SSL certificate could not be validated for the following reasons:
• The server certificate has the following errors:
  • La función de revocación no puede comprobar la revocación para el certificado.

 ---> System.Security.Authentication.AuthenticationException: The remote certificate was rejected by the provided RemoteCertificateValidationCallback.
   at System.Net.Security.SslStream.CompleteHandshake(SslAuthenticationOptions sslAuthenticationOptions)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SslHandshakeAsync(SslStream ssl, String host, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at AuthService.Application.Services.EmailService.SendEmailAsync(String to, String subject, String body) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\EmailService.cs:line 114
[2026-02-06 10:13:42 ERR] Error al enviar el email de verificación {"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9ba7405a-79fd-43f0-8b6f-46924b9b5d93","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JAOJMP0C:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JAOJMP0C"}
System.InvalidOperationException: Error al enviar el email: An error occurred while attempting to establish an SSL or TLS connection.

The server's SSL certificate could not be validated for the following reasons:
• The server certificate has the following errors:
  • La función de revocación no puede comprobar la revocación para el certificado.

 ---> MailKit.Security.SslHandshakeException: An error occurred while attempting to establish an SSL or TLS connection.

The server's SSL certificate could not be validated for the following reasons:
• The server certificate has the following errors:
  • La función de revocación no puede comprobar la revocación para el certificado.

 ---> System.Security.Authentication.AuthenticationException: The remote certificate was rejected by the provided RemoteCertificateValidationCallback.
   at System.Net.Security.SslStream.CompleteHandshake(SslAuthenticationOptions sslAuthenticationOptions)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SslHandshakeAsync(SslStream ssl, String host, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at AuthService.Application.Services.EmailService.SendEmailAsync(String to, String subject, String body) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\EmailService.cs:line 114
   --- End of inner exception stack trace ---
   at AuthService.Application.Services.EmailService.SendEmailAsync(String to, String subject, String body) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\EmailService.cs:line 166
   at AuthService.Application.Services.EmailService.SendEmailVerificationAsync(String email, String username, String token) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\EmailService.cs:line 29
   at AuthService.Application.Services.AuthService.<>c__DisplayClass9_0.<<RegisterAsync>b__0>d.MoveNext() in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\AuthService.cs:line 139
[2026-02-06 10:49:21 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 10:49:22 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 10:49:22 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 10:49:22 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 10:50:17 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5JV7AJRJF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:17 WRN] Registration rejected: email already exists {"EventId":{"Id":1004,"Name":"LogRegistrationWithExistingEmail"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:17 ERR] An unhandled exception occurred {"SourceContext":"AuthService.Api.Middlewares.GlobalExceptionMiddleware","RequestId":"0HNJ5JV7AJRJF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
AuthService.Application.Exceptions.BusinessException: El email ya existe
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterDto registerDto) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\AuthService.cs:line 33
   at AuthService.Api.Controllers.AuthController.Register(RegisterDto registerDto) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Api\Controllers\AuthController.cs:line 26
   at lambda_method20(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at AuthService.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Api\Middlewares\GlobalExceptionMiddleware.cs:line 18
[2026-02-06 10:50:17 INF] HTTP POST /api/v1/auth/register responded 400 in 253.7802 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5JV7AJRJF:00000001","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:48 INF] User ltiloj registered successfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:48 INF] HTTP POST /api/v1/auth/register responded 201 in 542.7497 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5JV7AJRJF:00000002","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:49 WRN] Validación de certificados SSL deshabilitada. Solo usar en desarrollo. {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:50 INF] Email enviado exitosamente {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:50 INF] Pipeline de email completado {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:50 INF] Email processed {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:50:50 INF] Email de verificación enviado {"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"27a62dcc-3e3b-4298-90ea-4456d3086795","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5JV7AJRJF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5JV7AJRJF"}
[2026-02-06 10:59:33 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 10:59:33 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 10:59:33 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 10:59:33 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 11:00:29 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:29 INF] User hcamey registered successfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"f573d93a-9039-4fb6-9771-f2b1a703516a","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:29 WRN] Validación de certificados SSL deshabilitada. Solo usar en desarrollo. {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"f573d93a-9039-4fb6-9771-f2b1a703516a","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:29 INF] HTTP POST /api/v1/auth/register responded 201 in 374.5384 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5K4TOAODN:00000001","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:31 INF] Email enviado exitosamente {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"f573d93a-9039-4fb6-9771-f2b1a703516a","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:31 INF] Pipeline de email completado {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"f573d93a-9039-4fb6-9771-f2b1a703516a","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:31 INF] Email processed {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"f573d93a-9039-4fb6-9771-f2b1a703516a","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:00:31 INF] Email de verificación enviado {"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"f573d93a-9039-4fb6-9771-f2b1a703516a","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5K4TOAODN:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K4TOAODN"}
[2026-02-06 11:08:51 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 11:08:51 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 11:08:51 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 11:08:51 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 11:08:54 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5K9K9UNNT:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5K9K9UNNT"}
[2026-02-06 11:08:54 INF] HTTP POST /api/v1/auth/register responded 400 in 133.4941 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5K9K9UNNT:00000001","ConnectionId":"0HNJ5K9K9UNNT"}
[2026-02-06 11:09:54 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 11:09:54 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 11:09:54 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 11:09:54 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 11:11:03 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:03 INF] User Puta registered successfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:03 WRN] Validación de certificados SSL deshabilitada. Solo usar en desarrollo. {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:03 INF] HTTP POST /api/v1/auth/register responded 201 in 604.9002 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5KAQHOQGF:00000001","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:05 INF] Email enviado exitosamente {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:05 INF] Pipeline de email completado {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:05 INF] Email processed {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:05 INF] Email de verificación enviado {"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000001","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:27 WRN] Registration rejected: username already exists {"EventId":{"Id":1005,"Name":"LogRegistrationWithExistingUsername"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:27 ERR] An unhandled exception occurred {"SourceContext":"AuthService.Api.Middlewares.GlobalExceptionMiddleware","RequestId":"0HNJ5KAQHOQGF:00000002","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
AuthService.Application.Exceptions.BusinessException: El nombre de usuario ya existe
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterDto registerDto) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\AuthService.cs:line 40
   at AuthService.Api.Controllers.AuthController.Register(RegisterDto registerDto) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Api\Controllers\AuthController.cs:line 26
   at lambda_method20(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at AuthService.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Api\Middlewares\GlobalExceptionMiddleware.cs:line 18
[2026-02-06 11:11:27 INF] HTTP POST /api/v1/auth/register responded 400 in 65.7269 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5KAQHOQGF:00000002","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:44 WRN] Registration rejected: username already exists {"EventId":{"Id":1005,"Name":"LogRegistrationWithExistingUsername"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:44 ERR] An unhandled exception occurred {"SourceContext":"AuthService.Api.Middlewares.GlobalExceptionMiddleware","RequestId":"0HNJ5KAQHOQGF:00000003","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
AuthService.Application.Exceptions.BusinessException: El nombre de usuario ya existe
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterDto registerDto) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Application\Services\AuthService.cs:line 40
   at AuthService.Api.Controllers.AuthController.Register(RegisterDto registerDto) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Api\Controllers\AuthController.cs:line 26
   at lambda_method20(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at AuthService.Api.Middlewares.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\Informatica\Documents\IN6AM\KinalSports\authentication-service\auth-service\src\AuthService.Api\Middlewares\GlobalExceptionMiddleware.cs:line 18
[2026-02-06 11:11:44 INF] HTTP POST /api/v1/auth/register responded 400 in 13.2987 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5KAQHOQGF:00000003","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:55 INF] User Zorra registered successfully {"EventId":{"Id":1001,"Name":"LogUserRegistered"},"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000004","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:55 WRN] Validación de certificados SSL deshabilitada. Solo usar en desarrollo. {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000004","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:55 INF] HTTP POST /api/v1/auth/register responded 201 in 304.8747 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5KAQHOQGF:00000004","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:56 INF] Email enviado exitosamente {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000004","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:56 INF] Pipeline de email completado {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000004","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:56 INF] Email processed {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000004","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:11:56 INF] Email de verificación enviado {"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"9e8f71ab-6deb-48b3-b48a-a7ed0913a698","ActionName":"AuthService.Api.Controllers.AuthController.Register (AuthService.Api)","RequestId":"0HNJ5KAQHOQGF:00000004","RequestPath":"/api/v1/auth/register","ConnectionId":"0HNJ5KAQHOQGF"}
[2026-02-06 11:35:48 INF] Verificando conexión a la base de datos... {"SourceContext":"Program"}
[2026-02-06 11:35:48 INF] Base de datos lista. Ejecutando datos semilla... {"SourceContext":"Program"}
[2026-02-06 11:35:48 INF] Inicialización de base de datos completada exitosamente {"SourceContext":"Program"}
[2026-02-06 11:35:48 INF] API de AuthService está ejecutándose en http://localhost:5001. Endpoint de salud: http://localhost:5001/api/v1/health {"SourceContext":"Program"}
[2026-02-06 11:40:41 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ5KRCL6IMI:00000001","RequestPath":"/api/v1/auth/verify-email","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:40:42 INF] HTTP POST /api/v1/auth/verify-email responded 200 in 238.4716 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5KRCL6IMI:00000001","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:41:01 WRN] Validación de certificados SSL deshabilitada. Solo usar en desarrollo. {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"d41b95ce-8610-40d9-9cd1-6342ad1d942e","ActionName":"AuthService.Api.Controllers.AuthController.VerifyEmail (AuthService.Api)","RequestId":"0HNJ5KRCL6IMI:00000002","RequestPath":"/api/v1/auth/verify-email","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:41:04 INF] Email enviado exitosamente {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"d41b95ce-8610-40d9-9cd1-6342ad1d942e","ActionName":"AuthService.Api.Controllers.AuthController.VerifyEmail (AuthService.Api)","RequestId":"0HNJ5KRCL6IMI:00000002","RequestPath":"/api/v1/auth/verify-email","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:41:04 INF] Pipeline de email completado {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"d41b95ce-8610-40d9-9cd1-6342ad1d942e","ActionName":"AuthService.Api.Controllers.AuthController.VerifyEmail (AuthService.Api)","RequestId":"0HNJ5KRCL6IMI:00000002","RequestPath":"/api/v1/auth/verify-email","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:41:04 INF] Email processed {"SourceContext":"AuthService.Application.Services.EmailService","ActionId":"d41b95ce-8610-40d9-9cd1-6342ad1d942e","ActionName":"AuthService.Api.Controllers.AuthController.VerifyEmail (AuthService.Api)","RequestId":"0HNJ5KRCL6IMI:00000002","RequestPath":"/api/v1/auth/verify-email","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:41:04 INF] Email verified successfully for user Zorra {"SourceContext":"AuthService.Application.Services.AuthService","ActionId":"d41b95ce-8610-40d9-9cd1-6342ad1d942e","ActionName":"AuthService.Api.Controllers.AuthController.VerifyEmail (AuthService.Api)","RequestId":"0HNJ5KRCL6IMI:00000002","RequestPath":"/api/v1/auth/verify-email","ConnectionId":"0HNJ5KRCL6IMI"}
[2026-02-06 11:41:04 INF] HTTP POST /api/v1/auth/verify-email responded 200 in 2697.7175 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ5KRCL6IMI:00000002","ConnectionId":"0HNJ5KRCL6IMI"}
